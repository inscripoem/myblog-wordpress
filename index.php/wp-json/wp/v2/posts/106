{"id":106,"date":"2022-03-09T23:32:09","date_gmt":"2022-03-09T15:32:09","guid":{"rendered":"https:\/\/blog.inscripoem.com\/?p=106"},"modified":"2022-03-09T23:32:09","modified_gmt":"2022-03-09T15:32:09","slug":"%e7%bb%99%e4%bd%a0%e6%9c%80%e7%88%b1%e7%9a%84%e9%9d%99%e6%80%81%e7%bd%91%e7%ab%99%e5%8a%a0%e4%b8%8a%e6%96%b9%e4%be%bf%e4%b8%8a%e4%bc%a0%e7%ae%a1%e7%90%86%e7%9a%84git%e5%b1%9e%e6%80%a7%e5%90%a7","status":"publish","type":"post","link":"https:\/\/blog.inscripoem.com\/index.php\/2022\/03\/09\/%e7%bb%99%e4%bd%a0%e6%9c%80%e7%88%b1%e7%9a%84%e9%9d%99%e6%80%81%e7%bd%91%e7%ab%99%e5%8a%a0%e4%b8%8a%e6%96%b9%e4%be%bf%e4%b8%8a%e4%bc%a0%e7%ae%a1%e7%90%86%e7%9a%84git%e5%b1%9e%e6%80%a7%e5%90%a7\/","title":{"rendered":"\u7ed9\u4f60\u6700\u7231\u7684\u9759\u6001\u7f51\u7ad9\u52a0\u4e0a\u65b9\u4fbf\u4e0a\u4f20\u7ba1\u7406\u7684git\u5c5e\u6027\u5427\uff01"},"content":{"rendered":"\n<p>\u641e\u8fd9\u4e2a\u7684\u524d\u63d0\u662f\u6709\u4e00\u5929\u6211\u5728\u7f16\u8f91<a rel=\"noreferrer noopener\" href=\"https:\/\/www.inscripoem.com\" data-type=\"URL\" data-id=\"https:\/\/www.inscripoem.com\" target=\"_blank\">\u4e3b\u9875<\/a>\u7684\u65f6\u5019\u5fd8\u8bb0\u4e8b\u5148\u5907\u4efd\uff0c\u7136\u540e\u4e4b\u524d\u8c03\u5b8c\u7684\u6e10\u53d8\u5c31\u5168\u4e22\u4e86orz\u3002\u8fd9\u91cc\u8981cue\u4e00\u4e0b\u7f6a\u9b41\u7978\u9996<a rel=\"noreferrer noopener\" href=\"https:\/\/www.hoyoverse.com\/zh-cn\/about-us\" data-type=\"URL\" data-id=\"https:\/\/www.hoyoverse.com\/zh-cn\/about-us\" target=\"_blank\">HoYoverse\u7684\u5173\u4e8e\u6211\u4eec\u9875\u9762<\/a>\uff0c\u8fd9\u4e2a\u6587\u5b57\u6e10\u53d8\u5b9e\u5728\u592a\u8ba9\u4eba\u60f3\u6284\u4e86\uff01\uff08\u5f53\u7136\u6700\u540e\u4ee5\u6ca1\u6284\u5230\u52a8\u753b\u4ee3\u7801\u8fd8\u4e0d\u5f97\u4e0d\u731c\u4e00\u4e2a\u4e4b\u524d\u7528\u7684\u6e10\u53d8\u989c\u8272\u7684\u7ed3\u679c\u6536\u573a\uff09<\/p>\n\n\n\n<p>\u6b63\u597d\u4e4b\u524d\u770bhexo\u672c\u5730\u90e8\u7f72\u7684\u65b9\u6cd5\u5c31\u662f\u5229\u7528\u4e00\u4e2agit\u7528\u6237\u521b\u5efa\u4ed3\u5e93\u7684\u5f62\u5f0f\u6765\u7ba1\u7406\u4ee3\u7801\uff0c\u628a\u4e91\u7aef\u5f53\u6210\u4e00\u4e2arepo\u6765\u90e8\u7f72\uff0c\u5c31\u60f3\u662f\u4e0d\u662f\u53ef\u4ee5\u628a\u4e2d\u95f4\u7684\u4e00\u90e8\u5206\u501f\u9274\u6765\u5b8c\u6210\u9759\u6001\u7f51\u7ad9\u7684\u7ba1\u7406\uff0c\u8fd9\u6837\u6211\u65e2\u6709\u4e00\u4e2a\u672c\u5730\u4e0a\u4f20\u7684\u6e20\u9053\u4e0d\u7528\u5929\u5929ssh\uff0c\u4e5f\u53ef\u4ee5\u65b9\u4fbf\u9000\u56de\u5230\u4ece\u524d\u7684\u7248\u672c\u3002\u90a3\u4e48\u4e8b\u4e0d\u5b9c\u8fdf\uff0c\u6211\u4eec\u9a6c\u4e0a\u5f00\u59cb\u3002<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">1.\u6dfb\u52a0git\u7528\u6237<\/h2>\n\n\n\n<p>\u5b89\u88c5git\u4e0enginx\u8fd9\u4e00\u6b65\u6211\u4eec\u5c31\u6b64\u8df3\u8fc7\uff0c\u4ece\u6dfb\u52a0git\u7528\u6237\u5f00\u59cb<\/p>\n\n\n\n<div class=\"hcb_wrap\"><pre class=\"prism line-numbers lang-bash\" data-lang=\"Bash\"><code>useradd git\npasswd git\n\n# \u7ed9git\u7528\u6237\u914d\u7f6esudo\u6743\u9650\nchmod 740 \/etc\/sudoers\nvim \/etc\/sudoers\n# \u627e\u5230root ALL=(ALL) ALL\uff0c\u5728\u5b83\u4e0b\u65b9\u52a0\u5165\u4e00\u884c\ngit ALL=(ALL) ALL\n\nchmod 400 \/etc\/sudoers<\/code><\/pre><\/div>\n\n\n\n<h2 class=\"wp-block-heading\">2.\u4e3agit\u7528\u6237\u6dfb\u52a0git\u5bc6\u94a5<\/h2>\n\n\n\n<div class=\"hcb_wrap\"><pre class=\"prism line-numbers lang-bash\" data-lang=\"Bash\"><code>su - git\nmkdir -p ~\/.ssh\ntouch ~\/.ssh\/authorized_keys\nchmod 600 ~\/.ssh\/authorzied_keys\nchmod 700 ~\/.ssh\nvim ~\/.ssh\/authorized_keys    #\u5c06ssh\u5bc6\u94a5\u7c98\u8d34\u8fdb\u53bb<\/code><\/pre><\/div>\n\n\n\n<p>\u8fd9\u4e00\u6b65\u7684ssh\u5bc6\u94a5\u53ef\u4ee5\u53c2\u8003<a rel=\"noreferrer noopener\" href=\"https:\/\/www.jianshu.com\/p\/7aba9b127cb8\" data-type=\"URL\" data-id=\"https:\/\/www.jianshu.com\/p\/7aba9b127cb8\" target=\"_blank\">\u300a\u751f\u6210SSH\u5bc6\u94a5\u300b<\/a>\u6765\u8fdb\u884c\u751f\u6210\uff0c\u603b\u4f53\u4e0a\u662f\u8fd0\u884c<code>ssh-keygen -t rsa -C \"your_email@example.com\"<\/code>\u540e\uff0c\u5728\u5bf9\u5e94\u7528\u6237\u7684<code>.ssh<\/code>\u76ee\u5f55\u4e0b\u751f\u6210\u7684<code>id_rsa.pub<\/code>\u6587\u4ef6\u5c31\u662f\u516c\u94a5\uff0c\u8fdb\u884c\u7c98\u8d34\u5373\u53ef<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">3.\u521b\u5efagit\u4ed3\u5e93\u5e76\u4f7f\u7528git-hooks\u8fdb\u884c\u81ea\u52a8\u90e8\u7f72<\/h2>\n\n\n\n<div class=\"hcb_wrap\"><pre class=\"prism line-numbers lang-bash\" data-lang=\"Bash\"><code>sudo mkdir -p \/home\/git\/repos    #\u65b0\u5efa\u76ee\u5f55\uff0c\u8fd9\u662fgit\u4ed3\u5e93\u7684\u4f4d\u7f6e\nsudo mkdir pp \/www\/wwwroot\/homepage #homepage\u4e3a\u4f60\u521b\u5efa\u7f51\u7ad9\u7684\u4f4d\u7f6e\ncd \/home\/git\/repos  #\u8f6c\u5230git\u4ed3\u5e93\u7684\u6587\u4ef6\u5939\nsudo git init --bare homepage.git #\u521b\u5efa\u4e00\u4e2a\u540d\u53ebhomepage\u7684\u4ed3\u5e93\nsudo vim \/home\/git\/repos\/homepage.git\/hooks\/post-update<\/code><\/pre><\/div>\n\n\n\n<p>\u5c06<code>post-update<\/code>\u7684\u5185\u5bb9\u6539\u4e3a\u5982\u4e0b\uff1a<\/p>\n\n\n\n<div class=\"hcb_wrap\"><pre class=\"prism line-numbers lang-bash\" data-lang=\"Bash\"><code>#!\/bin\/bash\ngit --work-tree=\/www\/wwwroot\/homepage --git-dir=\/home\/git\/repos\/homepage.git checkout -f<\/code><\/pre><\/div>\n\n\n\n<p><strong>\u7ed9post-update\u6388\u6743<\/strong>\uff1a<\/p>\n\n\n\n<div class=\"hcb_wrap\"><pre class=\"prism line-numbers lang-bash\" data-lang=\"Bash\"><code>cd \/home\/git\/repos\/homepage.git\/hooks\/\nsudo chown -R git:git \/home\/git\/repos\/\nsudo chown -R git:git \/www\/wwwroot\/homepage\nsudo chmod +x post-update  #\u8d4b\u4e88\u5176\u53ef\u6267\u884c\u6743\u9650<\/code><\/pre><\/div>\n\n\n\n<p>\u4e0b\u9762\u4e00\u6b65\u662f<strong>\u4fee\u6539git\u7528\u6237\u7684\u9ed8\u8ba4shell\u73af\u5883<\/strong>\uff0c\u4f46\u6211\u672c\u4eba\u6ca1\u6709\u8fdb\u884c\u8fd9\u4e00\u6b65\u5c31\u5b8c\u6210\u4e86\uff0c\u6240\u4ee5\u6682\u4e14\u8d34\u5728\u8fd9\u91cc\uff0c\u53ef\u4ee5\u81ea\u884c\u5c55\u5f00<\/p>\n\n\n\n<div class=\"wp-block-mdx-fold mdui-panel mdui-panel-gapless\"><div class=\"mdui-panel-item\"><div class=\"mdui-panel-item-header\"><div class=\"mdui-panel-item-title\">\u4fee\u6539git\u7528\u6237\u7684\u9ed8\u8ba4shell\u73af\u5883<\/div><i class=\"mdui-panel-item-arrow mdui-icon material-icons\">keyboard_arrow_down<\/i><\/div><div class=\"mdui-panel-item-body\"><p>\nvim \/etc\/passwd<\/br>\n#\u4fee\u6539\u6700\u540e\u4e00\u884c<\/br>\n#\u5c06\/bin\/bash\u4fee\u6539\u4e3a\/usr\/bin\/git-shell\n<\/p><\/div><\/div><\/div>\n\n\n\n<h2 class=\"wp-block-heading\">4.\u8fdb\u884cgit\u4ed3\u5e93\u7684\u62c9\u53d6\u6d4b\u8bd5\u53ca\u521d\u59cb\u5316<\/h2>\n\n\n\n<p>\u63a5\u4e0b\u6765\u53ef\u4ee5\u8bd5\u7740\u5728\u672c\u5730\u7535\u8111\u4e0a\uff08\u5f53\u7136\u9700\u8981\u5b89\u88c5git\uff09\u8fd0\u884c<\/p>\n\n\n\n<div class=\"hcb_wrap\"><pre class=\"prism line-numbers lang-bash\" data-lang=\"Bash\"><code>git clone git@xxx.xx.xxx.xxx:\/home\/git\/repos\/homepage.git<\/code><\/pre><\/div>\n\n\n\n<p>\u5982\u679c\u6210\u529f\uff0c\u606d\u559c\uff01\u8fd9\u8868\u660e\u4f60\u524d\u9762\u7684\u6b65\u9aa4\u6ca1\u6709\u51fa\u73b0\u9519\u8bef\uff0c\u4e0b\u9762\u5982\u679c\u4f60\u8bd5\u56fe\u5f00\u59cb\u5f80\u91cc\u9762\u6dfb\u52a0\u5185\u5bb9\u5e76\u63a8\u9001\uff0c\u5c31\u4f1a\u53d1\u73b0\u5f62\u5982<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>error: src refspec master does not match any.\r\nerror: failed to push some refs to 'git@xxx.xx.xxx.xxx:\/home\/git\/repos\/homepage.git'<\/code><\/pre>\n\n\n\n<p>\u7684\u9519\u8bef\uff0c\u8fd9\u662f\u7531\u4e8e\u6ca1\u6709\u521d\u59cb\u5316git\u4ed3\u5e93\u9020\u6210\u7684\uff0c\u56e0\u6b64\u9700\u8981\u5728\u672c\u5730\u7aef\u8fd0\u884c<\/p>\n\n\n\n<div class=\"hcb_wrap\"><pre class=\"prism line-numbers lang-bash\" data-lang=\"Bash\"><code>git add . #\u5c06\u6587\u4ef6\u6dfb\u52a0\u5230\u4ed3\u5e93\ngit commit -m &quot;\u6ce8\u91ca\u5185\u5bb9&quot; #\u8fdb\u884c\u63d0\u4ea4\ngit push -u origin master #\u5c06\u66f4\u6539\u63a8\u9001\u81f3\u8fdc\u7a0b\u4ed3\u5e93<\/code><\/pre><\/div>\n\n\n\n<p>\u540e\u7eed\u5373\u53ef\u6b63\u5e38\u63d0\u4ea4<\/p>\n\n\n\n<p>\u9535\u9535\uff01\u4ee5\u540e\u5728\u672c\u5730\u7aef\u5c31\u53ef\u4ee5\u76f4\u63a5\u628a\u7f51\u7ad9\u5f53\u6210git\u4ed3\u5e93\u6765\u6539\u52a8\u53ca\u8fdb\u884c\u7248\u672c\u7ba1\u7406\u4e86<\/p>\n\n\n\n<p>\u6ce8\uff1a\u7531\u4e8e\u672c\u6587\u7ae0\u5728\u64b0\u5199\u65f6\u7b14\u8005\u5bf9\u4e8eGit\u7684\u7406\u89e3\u5e76\u4e0d\u6df1\u523b\uff0c\u6240\u4ee5\u5728\u4ee5\u4e0a\u6b65\u9aa4\u8fd0\u884c\u540e\u4f9d\u7136\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\uff0c\u6216\u662f\u5173\u4e8e\u4ee3\u7801\u4e4b\u5916\u7684\u6587\u4ef6\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u53c2\u9605\u6587\u672b\u7684\u53c2\u8003\u8d44\u6599\u53ca\u7f51\u7edc\u7b49\u8fdb\u884c\u8fdb\u4e00\u6b65\u63a2\u5bfb<\/p>\n\n\n\n<p><strong>\u53c2\u8003\u6587\u7ae0\uff1a<\/strong><\/p>\n\n\n\n<p><a href=\"https:\/\/www.cnblogs.com\/jie-fang\/p\/13445939.html\" data-type=\"URL\" data-id=\"https:\/\/www.cnblogs.com\/jie-fang\/p\/13445939.html\" target=\"_blank\" rel=\"noreferrer noopener\">\u5c06Hexo\u90e8\u7f72\u5230\u81ea\u5df1\u7684\u670d\u52a1\u5668\u4e0a | StaryJie<\/a><\/p>\n\n\n\n<p><a href=\"https:\/\/blog.csdn.net\/qq_38198952\/article\/details\/82792279\" data-type=\"URL\" data-id=\"https:\/\/blog.csdn.net\/qq_38198952\/article\/details\/82792279\" target=\"_blank\" rel=\"noreferrer noopener\">error: src refspec master does not match any. \u9519\u8bef\u7684\u89e3\u51b3\u529e\u6cd5 | oliverhoo<\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u641e\u8fd9\u4e2a\u7684\u524d\u63d0\u662f\u6709\u4e00\u5929\u6211\u5728\u7f16\u8f91\u4e3b\u9875\u7684\u65f6\u5019\u5fd8\u8bb0\u4e8b\u5148\u5907\u4efd\uff0c\u7136\u540e\u4e4b\u524d\u8c03\u5b8c\u7684\u6e10\u53d8\u5c31\u5168\u4e22\u4e86orz\u3002\u8fd9\u91cc\u8981cue\u4e00\u4e0b\u7f6a\u9b41\u7978\u9996 [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[3],"tags":[],"jetpack_sharing_enabled":true,"jetpack_featured_media_url":"","_links":{"self":[{"href":"https:\/\/blog.inscripoem.com\/index.php\/wp-json\/wp\/v2\/posts\/106"}],"collection":[{"href":"https:\/\/blog.inscripoem.com\/index.php\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/blog.inscripoem.com\/index.php\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/blog.inscripoem.com\/index.php\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/blog.inscripoem.com\/index.php\/wp-json\/wp\/v2\/comments?post=106"}],"version-history":[{"count":8,"href":"https:\/\/blog.inscripoem.com\/index.php\/wp-json\/wp\/v2\/posts\/106\/revisions"}],"predecessor-version":[{"id":114,"href":"https:\/\/blog.inscripoem.com\/index.php\/wp-json\/wp\/v2\/posts\/106\/revisions\/114"}],"wp:attachment":[{"href":"https:\/\/blog.inscripoem.com\/index.php\/wp-json\/wp\/v2\/media?parent=106"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/blog.inscripoem.com\/index.php\/wp-json\/wp\/v2\/categories?post=106"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/blog.inscripoem.com\/index.php\/wp-json\/wp\/v2\/tags?post=106"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}